group 'com.gammadex'
version '1.0-SNAPSHOT'

ext {
    junitParamsVersion = '5.4.0'
    junitMockitoVersion = '2.24.0'
    assertjVersion = '3.12.2'
    bouncycastleVersion = '1.61'
    web3Version = '4.2.0'
    cucumberVersion = '4.7.2'
}

allprojects {
    apply plugin: 'java'
    apply plugin: 'jacoco'

    sourceCompatibility = 1.10
    targetCompatibility = 1.10

    repositories {
        mavenCentral()
    }
}

task codeCoverageReport(type: org.gradle.testing.jacoco.tasks.JacocoReport) {
    dependsOn = subprojects.test
    executionData = fileTree(project.rootDir.absolutePath).include("**/build/jacoco/*.exec")

    subprojects.each {
        sourceSets it.sourceSets.main
    }

    reports {
        xml.enabled = true
        html.enabled = false
        csv.enabled = false
        xml.destination file("${buildDir}/reports/jacoco/report.xml")
    }
}